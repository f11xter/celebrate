<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css" />
    <title>Celebrate!</title>

    <script src="jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Display date
            const dateObj = new Date();
            $("#date").text(dateObj.toISOString().slice(0, 10));

            // Create spinner and msg and hide immediately
            const msgs = ['Excellent work!', 'You\'re on fire!', 'Godlike!', 'Pop off!', 'Good stuff!'];
            $("button").after(`<div id="spinner"></div><p id="msg">${msgs[Math.floor(Math.random() * msgs.length)]}</p>`);
            $("#spinner").hide();
            $("#msg").hide();

            // Achievement entry logic
            let lines = 1;
            $("#achievements").on("keypress", "input", function (e) {
                const keycode = (event.keyCode ? event.keyCode : event.which);
                if (keycode == '13') {
                    lines++;
                    $(`#p${lines - 1}`).after(`<p id="p${lines}">${lines}. <input type="text" name="${lines}" id="${lines}"></p>`);
                    $(`#${lines}`).focus();
                }
            });

            // Submit button logic
            let isSubmitted = false;
            $("button").click(function () {
                if (!isSubmitted) {
                    isSubmitted = true;
                    $("#spinner").show();
                    setTimeout(() => {
                        $("#spinner").hide();
                        $("#msg").show();
                    }, 2000);
                }
            });
        });
    </script>
</head>

<body>
    <header><img src="celebrate.png" alt="Celebrate!"></header>

    <p id="date"></p>
    <p>
        Recall your achievements today<br>
        Record them below<br>
    </p>
    <hr>

    <div id="achievements">
        <p id="p1">1. <input type="text" name="1" id="1" placeholder="First achievement..."></p>
    </div>

    <button type="button">Submit</button>
</body>

</html>